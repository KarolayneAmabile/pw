{% extends "users/base.html" %}

{% block title %}Confirmar Exclusão{% endblock %}

{% block content %}
    <div class="page-header">
        <h1 class="page-title">Confirmar Exclusão</h1>
        <p class="page-subtitle">Esta ação não pode ser desfeita</p>
    </div>

    <div class="card" style="border-left:4px solid var(--danger);">
        <div style="display:flex; align-items:start; gap:16px;">
            <div style="width:48px; height:48px; border-radius:50%; background:#fef2f2; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
                <svg style="width:24px; height:24px; color:var(--danger);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                </svg>
            </div>
            
            <div style="flex:1;">
                <h2 style="margin:0 0 12px; font-size:20px; font-weight:700; color:#0f172a;">Deletar Usuário</h2>
                
                <p style="margin:0 0 16px; font-size:16px; color:#374151;">
                    Você tem certeza que deseja deletar o usuário <strong>"{{ user_to_delete.username }}"</strong>?
                </p>
                
                <div style="background:#fef2f2; border:1px solid #fecaca; border-radius:8px; padding:16px; margin:16px 0;">
                    <h4 style="margin:0 0 8px; font-size:14px; font-weight:600; color:var(--danger);">⚠️ Atenção</h4>
                    <ul style="margin:0; padding-left:20px; font-size:14px; color:#7f1d1d; line-height:1.5;">
                        <li>Esta ação é permanente e não pode ser desfeita</li>
                        <li>Todos os dados associados ao usuário serão perdidos</li>
                        <li>O usuário perderá acesso imediato ao sistema</li>
                    </ul>
                </div>

                <div style="background:#f8fafc; border:1px solid #e2e8f0; border-radius:8px; padding:16px; margin:16px 0;">
                    <h4 style="margin:0 0 12px; font-size:14px; font-weight:600; color:#374151;">Informações do Usuário</h4>
                    <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:12px; font-size:14px;">
                        <div>
                            <span style="color:var(--muted); font-size:13px;">Nome de usuário:</span>
                            <div style="font-weight:500;">{{ user_to_delete.username }}</div>
                        </div>
                        <div>
                            <span style="color:var(--muted); font-size:13px;">E-mail:</span>
                            <div style="font-weight:500;">{{ user_to_delete.email|default:"—" }}</div>
                        </div>
                        <div>
                            <span style="color:var(--muted); font-size:13px;">Criado em:</span>
                            <div style="font-weight:500;">{{ user_to_delete.date_joined|date:"d/m/Y" }}</div>
                        </div>
                        <div>
                            <span style="color:var(--muted); font-size:13px;">Grupos:</span>
                            <div>
                                {% for group in user_to_delete.groups.all %}
                                    <span class="badge badge-primary" style="margin-right:4px;">{{ group.name }}</span>
                                {% empty %}
                                    <span style="color:var(--muted); font-style:italic;">Nenhum</span>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>

                <form method="post" style="margin-top:24px;">
                    {% csrf_token %}
                    <div style="display:flex; gap:12px; align-items:center;">
                        <button type="submit" class="btn" style="background:var(--danger); color:#fff; font-weight:700;">
                            Sim, deletar usuário
                        </button>
                        <a href="{% url 'authentication:user_management' %}" class="btn" style="background:#f1f5f9; color:#64748b;">
                            Cancelar
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}